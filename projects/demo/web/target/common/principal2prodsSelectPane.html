
<script type="text/javascript" >
//principal2prodsSelectPane.html
dojo.require("projectDojo.Peoples");
var dojoPeoples= new  projectDojo.Peoples();
dojoPeoples.initPeoples();
var urlpaneprincipal2prods= getUrl()+ "services/PeoplesManageService";
var deletedatapaneprincipal2prods =  new Array();
var querydatapaneprincipal2prods =  new Array();
var pagenumberpaneprincipal2prods=1;
var totalCountpaneprincipal2prods=0;
var pagesizepaneprincipal2prods=10;
var orderBypaneprincipal2prods='0';
var queryvopaneprincipal2prods=new Object();
var oddstyle='';
var modelpaneprincipal2prods = new dojox.grid.data.Table(null, querydatapaneprincipal2prods);


var noPaneprincipal2prods;
var selectPaneprincipal2prodsIDs;
var oldFloatPaneprincipal2prods;
var selectPaneprincipal2prodsInRow;
var ifMultPaneprincipal2prods=0;	
	  
var getChoisepaneprincipal2prods = function(inRowIndex) {
			if(selectPaneprincipal2prodsIDs==querydatapaneprincipal2prods[inRowIndex][1]){
                  return  '<input class="dojoxGrid-input"  name="selectprincipal2prods" id="'+querydatapaneprincipal2prods[inRowIndex][1]+'" checked="true" type="checkbox"/>'
              }else{
                  return  '<input class="dojoxGrid-input"  name="selectprincipal2prods" id="'+querydatapaneprincipal2prods[inRowIndex][1]+'"  type="checkbox"/>'
              }
			    }	  
	  
var layoutpaneprincipal2prods=[{
	//¸ù¾ÝfieldµÄÖµ£¬ÒÀ¾ÝÄ¬ÈÏµÄË³Ðò£¬´ÓjsÖÐµÄtoArray×ª»»·½·¨·µ»ØµÄquerydateÖÐÈ¡Êý¾Ý
	    cells: [ [
			  {name: 'select', width: 3, get:getChoisepaneprincipal2prods},
                { name: 'NO.', width: 2, styles: 'text-align: center;', get: function(inRowIndex){ return inRowIndex+1;} },//
				  				  {name: i18nStr.peopleName, field: 2,width: 10}
						  						  				,   {name: i18nStr.peoplePassword, field: 3,width: 10}
						  						  				,   {name: i18nStr.peopleStatus, field: 4,width: 10}
						  						  				,   {name: i18nStr.birthDay,field:5, width: 8}
						  						  				,   {name: i18nStr.sex, field: 6,width: 10}
						  						  				,   {name: i18nStr.birthPlace, field: 7,width: 10}
						  						  				,   {name: i18nStr.address, field: 8,width: 10}
						  						  				,   {name: i18nStr.tel, field: 9,width: 10}
						  						  				,   {name: i18nStr.engageMode, field: 10,width: 10}
						  						  				,   {name: i18nStr.engageDate,field:11, width: 8}
						  						  				,   {name: i18nStr.gradeEnum, field: 12,width: 10}
						  						  				,   {name: i18nStr.remark, field: 13,width: 10}
						  				
					]]}];	 
					
function getVOpaneprincipal2prods(queryvo){
	var totalCount=0;
      var pu = new SOAPClientParameters2();
      pu.add('PeoplesVO',queryvo) ;
      pu.add('pageNumber',pagenumberpaneprincipal2prods) ;
	    pu.add('pageSize',pagesizepaneprincipal2prods) ;
	    pu.add('orderBy',orderBypaneprincipal2prods) ;
      SOAPClient.invoke(urlpaneprincipal2prods,"getPeoples", pu, false,  function GetEnu_callBack(ul, soapResponse){      
           querydatapaneprincipal2prods=new Array();
		   querydatapaneprincipal2prods=dojoPeoples.PeoplesVOtoArray_fun(ul,false);
           totalCountpaneprincipal2prods=ul[ul.length-1]["ns:id"]; 
      }); 
      querydatapaneprincipal2prods.splice(querydatapaneprincipal2prods.length-1,1);
      modelpaneprincipal2prods.setData(querydatapaneprincipal2prods);
      var totalpage=Math.ceil(new Number(totalCountpaneprincipal2prods)/pagesizepaneprincipal2prods);
	  
	if(totalpage>1){
		if(pagenumberpaneprincipal2prods==1){
			dijit.byId("but6paneprincipal2prods").setDisabled(true);
			dijit.byId("but7paneprincipal2prods").setDisabled(false);
		}else if(pagenumberpaneprincipal2prods==totalpage){
			dijit.byId("but6paneprincipal2prods").setDisabled(false);
			dijit.byId("but7paneprincipal2prods").setDisabled(true);
		}else{
			dijit.byId("but6paneprincipal2prods").setDisabled(false);
			dijit.byId("but7paneprincipal2prods").setDisabled(false);
		}
	}else{
		dijit.byId("but6paneprincipal2prods").setDisabled(true);
		dijit.byId("but7paneprincipal2prods").setDisabled(true);
	
	}
	if(pagesizepaneprincipal2prods==0){
		totalpage=1;
		dijit.byId("but6paneprincipal2prods").setDisabled(true);
		dijit.byId("but7paneprincipal2prods").setDisabled(true);
	}
	if(totalpage==1)pagenumberpaneprincipal2prods=1;
	
	 document.getElementById("rowCountpaneprincipal2prods").innerHTML=i18nStr.di+" "+pagenumberpaneprincipal2prods+" "+i18nStr.page+" / "+i18nStr.totle+" "+totalpage+" "+i18nStr.page+" / "+i18nStr.sum+" "+totalCountpaneprincipal2prods+" "+i18nStr.rowSize; 	
}

 var selectprincipal2prodsFunClick =function(){
    var rep=new Array();
    var allpeos=document.getElementsByName("selectprincipal2prods");
        for(var i=0;i<allpeos.length;i++){
          if(allpeos[i].checked==true){
            //rep=allpeos[i].id;
            if(ifMultPaneprincipal2prods==0){
              rep=querydatapaneprincipal2prods[i];
            }else{
              rep[rep.length]=querydatapaneprincipal2prods[i];
            }
          }
      }
	   return rep;
    //selectprincipal2prodsFun(rep);
	//oldFloatprincipal2prods.hide();
}  					


//------------init 
 getVOpaneprincipal2prods(queryvopaneprincipal2prods);
      if(gridpaneprincipal2prods==undefined){
	  			 gridpaneprincipal2prods= new dojox.Grid({
					title: "ff",
					id: "gridpaneprincipal2prods",
					jsId: "gridpaneprincipal2prods",
					structure: layoutpaneprincipal2prods,
					rowCount:querydatapaneprincipal2prods.length-1,
					model:modelpaneprincipal2prods
				}, dojo.byId("gridpaneprincipal2prods"));
				
			}else{ 
			//gridpaneprincipal2prods.model.setData(querydatapaneprincipal2prods); 
			} 
//-------------	

var allpagepaneprincipal2prods=function(){
	pagesizepaneprincipal2prods=0;
	getVOpaneprincipal2prods(queryvopaneprincipal2prods);
}
var  pagesizeChangepaneprincipal2prods=function(mylabel){
	pagesizepaneprincipal2prods=mylabel;
	getVOpaneprincipal2prods(queryvopaneprincipal2prods);
}           
var upPagepaneprincipal2prods= function(){
	pagenumberpaneprincipal2prods--;
	getVOpaneprincipal2prods(queryvopaneprincipal2prods);
}
var downPagepaneprincipal2prods=function(){
	pagenumberpaneprincipal2prods++;
	getVOpaneprincipal2prods(queryvopaneprincipal2prods);
}
 

   
function querybuttonpaneprincipal2prods(){
              //var p = new SOAPClientParameters2();
              var d,n;
              var validstate=0;
              //queryvoprincipal2prods.id=0 ;
              queryvopaneprincipal2prods=new Object();
								  if(querypaneprincipal2prodspeopleName.getDisplayedValue()!="")queryvopaneprincipal2prods.peopleName=querypaneprincipal2prodspeopleName.getDisplayedValue();//
											  if(querypaneprincipal2prodspeoplePassword.getDisplayedValue()!="")queryvopaneprincipal2prods.peoplePassword=querypaneprincipal2prodspeoplePassword.getDisplayedValue();//
											  if(querypaneprincipal2prodspeopleStatus.getDisplayedValue()!="")queryvopaneprincipal2prods.peopleStatus=querypaneprincipal2prodspeopleStatus.getDisplayedValue();//
											  d=queryDate_fun("paneprincipal2prodsbirthDay");
					  if(d==null){validstate=1;}else if(d.upSign!="%"){queryvopaneprincipal2prods.birthDay=d;}
											  if(querypaneprincipal2prodssex.getDisplayedValue()!="")queryvopaneprincipal2prods.sex=querypaneprincipal2prodssex.getDisplayedValue();//
											  if(querypaneprincipal2prodsbirthPlace.getDisplayedValue()!="")queryvopaneprincipal2prods.birthPlace=querypaneprincipal2prodsbirthPlace.getDisplayedValue();//
											  if(querypaneprincipal2prodsaddress.getDisplayedValue()!="")queryvopaneprincipal2prods.address=querypaneprincipal2prodsaddress.getDisplayedValue();//
											  if(querypaneprincipal2prodstel.getDisplayedValue()!="")queryvopaneprincipal2prods.tel=querypaneprincipal2prodstel.getDisplayedValue();//
											  if(querypaneprincipal2prodsengageMode.getDisplayedValue()!="")queryvopaneprincipal2prods.engageMode=querypaneprincipal2prodsengageMode.getDisplayedValue();//
											  d=queryDate_fun("paneprincipal2prodsengageDate");
					  if(d==null){validstate=1;}else if(d.upSign!="%"){queryvopaneprincipal2prods.engageDate=d;}
											  if(querypaneprincipal2prodsgradeEnum.getDisplayedValue()!="")queryvopaneprincipal2prods.gradeEnum=querypaneprincipal2prodsgradeEnum.getDisplayedValue();//
											  if(querypaneprincipal2prodsremark.getDisplayedValue()!="")queryvopaneprincipal2prods.remark=querypaneprincipal2prodsremark.getDisplayedValue();//
							

			if(validstate==0){
              pagenumber=1;
			  getVOpaneprincipal2prods(queryvopaneprincipal2prods);
             }      
       }
																																																						   
</script>
<div id="queryDivpaneprincipal2prods" style="margin-right: 0px;  height: ${queryHeight}px; display:none;" >
					<table align="center" width=100% class="queryTable"  >
	<tr >
	<td align="center" style="{width:11%}" i18n="queryNote" >Please input criterial:</td>
	<td style="{width:22%}" ></td>
	<td style="{width:11%}"></td>
	<td style="{width:6%}" ></td>
	<td style="{width:11%}" ></td>
	<td style="{width:6%}" ></td>
	<td style="{width:11%}"></td>
	<td style="{width:22%}"></td>
	</tr> 
	<tr ><td align="center" style="{width:11%}"></td>
	<td style="{width:22%}" ></td>
	<td style="{width:11%}"></td>
	<td style="{width:6%}" ></td>
	<td style="{width:11%}" ></td>
	<td style="{width:6%}" ></td>
	<td style="{width:11%}"></td>
	<td style="{width:22%}"></td></tr>  
                <tr>
							<td align="right" i18n="peopleName" >peopleName:</td>
						<td align="left"  >
						
															<input type="text" class="editerInput"  id="querypaneprincipal2prodspeopleName"  jsId="querypaneprincipal2prodspeopleName"   dojoType="dijit.form.TextBox"  />
													</td>
														<td align="right"  i18n="peoplePassword" >peoplePassword:</td>
						<td align="left"  colspan="3" >
													<input type="text" class="editerInput"  id="querypaneprincipal2prodspeoplePassword"  jsId="querypaneprincipal2prodspeoplePassword"   dojoType="dijit.form.TextBox"  />
												</td>  
													<td align="right"  i18n="peopleStatus" >peopleStatus:</td>
						<td align="left"  >
													<input type="text" class="editerInput"  id="querypaneprincipal2prodspeopleStatus"  jsId="querypaneprincipal2prodspeopleStatus"   dojoType="dijit.form.TextBox"  />
												</td>  
										  </tr>
			                <tr>
							<td align="right" i18n="birthDay"  >birthDay:</td> 
						<td align="left"  colspan="3"><span id="querypaneprincipal2prodsbirthDayImg0"  ><input class="editerDate"   jsId="querypaneprincipal2prodsbirthDay" id="querypaneprincipal2prodsbirthDay"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTime" jsid="querypaneprincipal2prodsbirthDayTime" id="querypaneprincipal2prodsbirthDayTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<span id="querypaneprincipal2prodsbirthDayImg1" style="{display:none}" ><input class="editerDateSmaller"   jsId="query1paneprincipal2prodsbirthDay" id="query1paneprincipal2prodsbirthDay"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTimeSmaller" jsId="query1paneprincipal2prodsbirthDayTime" id="query1paneprincipal2prodsbirthDayTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<span hidefocus="true" style="{display:none}" onclick="selectSign(this);" id="querypaneprincipal2prodsbirthDayImgup">></span>
							<span hidefocus="false"  style="{display:none}" onclick="selectSign(this);" id="querypaneprincipal2prodsbirthDayImgdown" >></span>
							<span id="querypaneprincipal2prodsbirthDayImg2div" style="{display:none}"><input class="editerDateSmaller"   jsId="query2paneprincipal2prodsbirthDay" id="query2paneprincipal2prodsbirthDay"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTimeSmaller" jsId="query2paneprincipal2prodsbirthDayTime" id="query2paneprincipal2prodsbirthDayTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<img src="../image/start.gif" onclick="queryType(this);" id="querypaneprincipal2prodsbirthDayImg" style="vertical-align:middle;margin-top:0px;">
						</td>
													<td align="right" colspan="2" ></td>
						<td align="right"  i18n="sex" >sex:</td>
						<td align="left"  >
							 								<input type="text" class="editerInput"  id="querypaneprincipal2prodssex"  jsId="querypaneprincipal2prodssex"   dojoType="dijit.form.TextBox"  />  
													</td></tr>
					                <tr>
							<td align="right" i18n="birthPlace" >birthPlace:</td>
						<td align="left"  >
						
															<input type="text" class="editerInput"  id="querypaneprincipal2prodsbirthPlace"  jsId="querypaneprincipal2prodsbirthPlace"   dojoType="dijit.form.TextBox"  />
													</td>
														<td align="right"  i18n="address" >address:</td>
						<td align="left"  colspan="3" >
													<input type="text" class="editerInput"  id="querypaneprincipal2prodsaddress"  jsId="querypaneprincipal2prodsaddress"   dojoType="dijit.form.TextBox"  />
												</td>  
													<td align="right"  i18n="tel" >tel:</td>
						<td align="left"  >
													<input type="text" class="editerInput"  id="querypaneprincipal2prodstel"  jsId="querypaneprincipal2prodstel"   dojoType="dijit.form.TextBox"  />
												</td>  
										  </tr>
			                <tr>
							<td align="right" i18n="engageMode" >engageMode:</td>
						<td align="left"  >
						
															<input type="text" class="editerInput"  id="querypaneprincipal2prodsengageMode"  jsId="querypaneprincipal2prodsengageMode"   dojoType="dijit.form.TextBox"  />
													</td>
																<td align="right"  i18n="engageDate" >engageDate:</td>
						<td align="left"   colspan="5"><span id="querypaneprincipal2prodsengageDateImg0"  ><input class="editerDate"   jsId="querypaneprincipal2prodsengageDate" id="querypaneprincipal2prodsengageDate"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTime" jsid="querypaneprincipal2prodsengageDateTime" id="querypaneprincipal2prodsengageDateTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<span id="querypaneprincipal2prodsengageDateImg1" style="{display:none}" ><input class="editerDateSmall"   jsId="query1paneprincipal2prodsengageDate" id="query1paneprincipal2prodsengageDate"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTimeSmall" jsId="query1paneprincipal2prodsengageDateTime" id="query1paneprincipal2prodsengageDateTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<span hidefocus="true" style="{display:none}" onclick="selectSign(this);" id="querypaneprincipal2prodsengageDateImgup">></span>
							<span hidefocus="false"  style="{display:none}" onclick="selectSign(this);" id="querypaneprincipal2prodsengageDateImgdown" >></span>
							<span id="querypaneprincipal2prodsengageDateImg2div" style="{display:none}"><input class="editerDateSmall"   jsId="query2paneprincipal2prodsengageDate" id="query2paneprincipal2prodsengageDate"  constraints="{datePattern:'yyyy-MM-dd'}" dojoType="dijit.form.DateTextBox"  />
							<input class="editerTimeSmall" jsId="query2paneprincipal2prodsengageDateTime" id="query2paneprincipal2prodsengageDateTime" value="00:00" dojoType="dijit.form.TimeTextBox" constraints="{timePattern:'HH:mm'}"   invalidMessage="Invalid time. Use HH:mm where HH is 00 - 23 hours."></span>
							<img src="../image/start.gif" onclick="queryType(this);" id="querypaneprincipal2prodsengageDateImg" style="vertical-align:middle;margin-top:0px;">
						</td></tr>
			                <tr>
							<td align="right" i18n="gradeEnum" >gradeEnum:</td>
						<td align="left"  >
						
														<input  id="querypaneprincipal2prodsgradeEnum"  jsId="querypaneprincipal2prodsgradeEnum" class="editerInput"  dojoType="dijit.form.FilteringSelect" store="dojoPeoples.gradeEnumStore" />
													</td>
														<td align="right"  i18n="remark" >remark:</td>
						<td align="left"  colspan="3" >
													<input type="text" class="editerInput"  id="querypaneprincipal2prodsremark"  jsId="querypaneprincipal2prodsremark"   dojoType="dijit.form.TextBox"  />
												</td>  
				

    <td align="right"    ></td><td align="right"    ></td></tr>

         <tr align="center"><td></td>
           <td colspan="2"> <button dojoType="dijit.form.Button" onclick="querybuttonpaneprincipal2prods();" iconClass="queryIcon"  i18n="query" >query</button></td>
           <td colspan="3"></td><td colspan="2"></td></tr>
         </table>
	</div>	
	       	
	    <div style="{height:90%;width:100%}"  >
	         <div id="gridpaneprincipal2prods"  dojoType="dojox.Grid" autoWidth="false"  jsId="paneprincipal2prods"	model="modelpaneprincipal2prods"  structure="layoutpaneprincipal2prods"  ></div>
      </div>          
	  

